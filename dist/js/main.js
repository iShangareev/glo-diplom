(()=>{"use strict";const e=()=>{const e=document.querySelectorAll('a[href^="#"]');for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const o=t.getAttribute("href");o.length>1&&document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})}))};(()=>{const e=document.querySelector(".b-carousel__wrap"),t=e.querySelector(".b-carousel__item"),o=document.querySelector(".arrow-left"),l=document.querySelector(".arrow-right"),c=t.offsetWidth+15,r=e.offsetWidth,n=e.querySelectorAll(".services-carousel__item").length;let a=0;o.addEventListener("click",(function(){0!==a?(a+=r,e.style.transform=`translateX(${a}px)`):(a=-e.scrollWidth+r,e.style.transform=`translateX(${a}px)`)})),l.addEventListener("click",(function(){a===-c*n+r||a<-c*n+r?(a=0,e.style.transform=`translateX(${a}px)`):a>-e.scrollWidth&&(a-=r,e.style.transform=`translateX(${a}px)`)}))})(),e(),(()=>{let t=document.querySelector(".up");window.onscroll=()=>{window.pageYOffset>700?(e(),t.style.display="block",t.style.opacity="1"):t.style.opacity="0"}})(),(()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".modal-callback");document.querySelector(".main-wrapper").addEventListener("click",(o=>{(o.target.matches(".mob-menu-btn")||o.target.matches(".fancyboxModal")||o.target.matches(".button-services"))&&(e.style.display="block",t.style.display="block")})),e.addEventListener("click",(o=>{(o.target.matches(".modal-overlay")||o.target.closest(".modal-close"))&&(e.style.display="none",t.style.display="none")}),!0)})(),(()=>{const e=document.querySelector(".accordeon"),t=document.querySelectorAll(".accordeon__element");e.addEventListener("click",(e=>{e.target.closest(".accordeon__element")&&t.forEach((t=>{t===e.target.closest(".accordeon__element")?t.classList.add("active"):t.classList.remove("active")}))}))})(),(()=>{const e=document.querySelectorAll(".item");let t,o=0;const l=()=>{e[o].classList.remove("item-active"),o++,o>=e.length&&(o=0),e[o].classList.add("item-active")};((e=1500)=>{t=setInterval(l,e)})(3e3)})(),(()=>{const e=document.querySelector("#callback form"),t=e.querySelectorAll(".valStat"),o=document.createElement("div");try{if(!e)throw new Error("Верните форму на место");e.addEventListener("submit",(l=>{l.preventDefault(),(()=>{const l=new FormData(e),c={},r=e.querySelectorAll("input");var n;l.forEach(((e,t)=>[c[t]=e])),(e=>{let o=!0;return e.forEach((e=>{"fio"===e.name&&(/[^а-яА-Я ]/g.test(e.value)||""===e.value||e.value.length<2)&&(t[0].textContent="Введите имя на кириллице(не менее 2 букв)",o=!1),"tel"!==e.name||/^[\+]?\(?([0-9]{4})\)?([-]?)([0-9]{3})\2([0-9]{4})+$/g.test(e.value)&&""!==e.value||(t[1].textContent="Введите корректный номер телефона, пример: +79374564612",o=!1)})),o})(r)&&(o.textContent="Идет отправка...",e.append(o),(n=c,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((e=>e.json))).then((e=>{o.textContent="Отправлено",r.forEach((e=>{e.value="",t[0].textContent="",t[1].textContent=""}))})).catch((e=>{o.textContent="Ошибка..."})))})()}))}catch(e){console.log(e.message)}})()})();